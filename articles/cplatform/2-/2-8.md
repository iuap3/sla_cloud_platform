# 2.8 服务可用性

服务可用性：不低于99.9%。

 1.可用性按服务周期统计，一个服务周期为一个自然月，如不满一个月按一个月计算。

 2.统计的业务单元为每个用户的服务请求，时间单位为分钟。

 3.不可用时间：服务在连续的5分钟或更长时间不可使用方计为不可用时间，不可使用的服务时间低于5分钟的，不计入不可用时间。不可用时间不包括日常系统维护时间、由用户原因、第三方原因或不可抗力导致的不可用时间。

 4.服务可用性的计算方法如下：

&emsp;&emsp;a) 用户有效的服务请求数/用户总的服务请求数。在每个月的月初，统计以下两种情况的失败请求数：

* 访问日志统计上一个月用户的失败请求数（返回错误500系列）；

* 当出现服务不可用且无失败请求返回的情况，通过计算前7天用户单位时间请求数的平均值（根据可用性中心基线调整），再用该平均值乘以服务不可用时间，从而计算出该情况下的失败请求数；

&emsp;&emsp;b) 通过计算上述两种情况下的失败请求数之和占总请求数（正常请求数+失败请求数+估算的失败请求数）的比例，从而得出上个月该用户服务的可用性，可用性应不低于99.9%。

&emsp;&emsp;如：在1个月内总共有30万请求数，其中有30个失败请求，那么该月的服务可用性为(300000-30)/300000=99.99%>=99.9%，服务可用性达标。又如：在2016年10月总共有30万请求数，其中有30个失败请求，10月20日出现不可用时间为0.1小时,且10月14日-10月20日之间有10万请求数。那么该月正常请求数为300000,失败的请求数为30,估算的失败请求数为(0.1/(7*24))*100000 = 59.52,服务可用性为(300000-30-59.52)/300000 = 99.97% >= 99.9%，服务可用性达标。
